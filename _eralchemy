#compdef eralchemy

# erlachemy-zsh-completion (C) by Henrik Lindgren henrikprojekt at gmail.com
#
# It is free software; you can redistribute it and/or modify it under the terms of either:
#
# a) the GNU General Public License as published by the Free Software Foundation;
#    either external linkversion 1, or (at your option) any later versionexternal link, or
#
# b) the "Artistic License".

# TODO: fix this
# [[ $words[$CURRENT-2] =~ "-i" ]] && () {
  # _user_at_host && return 0
# } && return 0

sqlalchemy_string=(
  'mysql\:\/\/:mysql\:\/\/user\:password@host\/db_name'
  'postgresql\:\/\/:postgresql\:\/\/user\:password@host\/db_name'
  'sqlite\:\/\/\/:sqlite\:\/\/\/databasename.\[db\|sqlite\]'
)

_arguments '-i[sqlalchemy connection string \| markdownfile.er ]:sqlalchemy connection string:{ _describe "sqlalchemy connection string" sqlalchemy_string  }'\
  '-s[db schema to use]:schema:'\
  '-x[exclude tables]:tables:'\
  '-o[output \[.er for markdown | .pdf\] ]:schema:_files'\
  '*:file:_files'


# vim: set ts=2 sw=2 tw=0 expandtab foldenable foldmethod=manual foldclose=all :
